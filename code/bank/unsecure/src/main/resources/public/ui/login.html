<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>LogIn/SignUp</title>

    <script>


        doLogin = function(){
            doPostWithLoginPassword("/api/login");
        };

        doSignup = function () {
            doPostWithLoginPassword("/api/signup")
        };

        doPostWithLoginPassword = function(destination){

            var xmlhttp = new XMLHttpRequest();

            xmlhttp.onreadystatechange = function() {
                if (xmlhttp.readyState === XMLHttpRequest.DONE) {
                    if (xmlhttp.status === 200) {
                        window.location.href ="/ui/index.html"
                    } else {
                        alert('Wrong username/password');
                    }
                }
            };

            var userId = document.getElementById("userId").value;
            var password = document.getElementById("passwordId").value;

            var payload = "userId=" + encodeURI(userId) +"&password="+encodeURI(password);

            xmlhttp.open("POST", destination, true);
            xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");

            xmlhttp.send(payload);
        };
    </script>
</head>
<body>


Username:
<input type="text" id="userId"/><br/>

Password:
<input type="password" id="passwordId"/><br/>

<div class="btn" onclick="doLogin()">Log In</div>
<div class="btn" onclick="doSignup()">Sign Up</div>

</body>
</html>
